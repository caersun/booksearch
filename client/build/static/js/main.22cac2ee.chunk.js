(this.webpackJsonpbooksearch=this.webpackJsonpbooksearch||[]).push([[0],{61:function(e,t,c){"use strict";c.r(t);var n=c(2),o=c(1),r=c(29),s=c.n(r),a=c(30),i=c(7),l=c(62),j=c(63),h=c(64),u=c(65);var d=function(){return Object(n.jsxs)(l.a,{color:"light",light:!0,expand:"md",children:[Object(n.jsx)(j.a,{href:"/",children:"Google Book Search"}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(u.a,{href:"/",children:"Search"}),Object(n.jsx)(u.a,{href:"/saved",children:"Saved"})]})]})},b=c(66),O=c(67);var x=function(){return Object(n.jsx)(b.a,{fluid:!0,children:Object(n.jsxs)(O.a,{fluid:!0,children:[Object(n.jsx)("h1",{className:"display-3",children:"Search Gooogle Books"}),Object(n.jsx)("p",{className:"lead",children:"Search the Google Books API for books that interest you and save them!"})]})})},f=c(15),v=c(68),k=c(69),m=c(70),p=c(71),g=c(72),S=c(73),B=c(14),w=c.n(B),I={searchBook:function(e){var t="https://www.googleapis.com/books/v1/volumes?q="+e;return console.log("searching url:",t),w.a.get(t)},getSavedBooks:function(){return w.a.get("/api/books")},saveBook:function(e){return w.a.post("/api/books",e)},deleteBook:function(e){return w.a.delete("/api/books/"+e)}};var y=function(e){var t=e.book;return Object(n.jsx)(v.a,{children:Object(n.jsxs)(k.a,{children:[Object(n.jsx)(m.a,{tag:"h5",children:t.title}),Object(n.jsxs)(p.a,{tag:"h6",className:"mb-2 text-muted",children:["Author(s): ",t.authors]}),Object(n.jsx)(g.a,{children:t.description}),Object(n.jsx)(S.a,{children:"View"}),Object(n.jsx)(S.a,{onClick:function(){I.deleteBook(t._id).then(window.location.reload())},children:"Delete"})]})})};var N=function(){var e=Object(o.useState)([]),t=Object(f.a)(e,2),c=t[0],r=t[1];return Object(o.useEffect)((function(){I.getSavedBooks().then((function(e){console.log("Currently saved:",e.data),r(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsxs)(O.a,{children:[Object(n.jsx)("h6",{children:"Saved Books"}),c.length?c.map((function(e,t){return Object(n.jsx)(y,{book:e},t)})):Object(n.jsx)("h3",{children:"Search for some books, save them, and they will appear here!"})]})},A=c(74),C=c(75),G=c(76),R=c(77);var D=function(e){var t=e.book;return Object(n.jsx)(v.a,{children:Object(n.jsxs)(k.a,{children:[Object(n.jsx)(m.a,{tag:"h5",children:t.volumeInfo.title}),Object(n.jsxs)(p.a,{tag:"h6",className:"mb-2 text-muted",children:["Author(s): ",t.volumeInfo.authors]}),Object(n.jsx)(g.a,{children:t.volumeInfo.description}),Object(n.jsx)(S.a,{children:"View"}),Object(n.jsx)(S.a,{onClick:function(){return I.saveBook({title:t.volumeInfo.title,authors:t.volumeInfo.authors,description:t.volumeInfo.description,image:t.volumeInfo.imageLinks.thumbnail,link:t.volumeInfo.previewLink}),void I.getSavedBooks().then((function(e){return console.log("saved",e)}))},children:"Save"})]})})};var E=function(){var e=Object(o.useState)([]),t=Object(f.a)(e,2),c=t[0],r=t[1],s=Object(o.useRef)();return Object(n.jsxs)(O.a,{children:[Object(n.jsxs)(A.a,{onSubmit:function(e){e.preventDefault(),I.searchBook(s.current.value).then((function(e){return r(e.data.items)})).catch((function(e){return console.log(e)}))},children:[Object(n.jsxs)(C.a,{children:[Object(n.jsx)(G.a,{for:"search",children:"Search"}),Object(n.jsx)(R.a,{innerRef:s,id:"search"})]}),Object(n.jsx)(S.a,{type:"submit",children:"Search"})]}),Object(n.jsx)("h6",{children:"Results"}),c.length?c.map((function(e,t){return Object(n.jsx)(D,{book:e},t)})):Object(n.jsx)("h3",{children:"No results to display"})]})};var J=function(){return Object(n.jsxs)(a.a,{children:[Object(n.jsx)(d,{}),Object(n.jsx)(x,{}),Object(n.jsxs)(i.c,{children:[Object(n.jsx)(i.a,{exact:!0,path:"/",children:Object(n.jsx)(E,{})}),Object(n.jsx)(i.a,{exact:!0,path:"/saved",children:Object(n.jsx)(N,{})})]})]})};c(60);s.a.render(Object(n.jsx)(J,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.22cac2ee.chunk.js.map